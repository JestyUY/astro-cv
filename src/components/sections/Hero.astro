---
import { basics } from '@cv';
import { Image } from 'astro:assets';
import Section from '@/components/Section.astro';
import Mail from '@/icons/Mail.astro';
import Phone from '@/icons/Phone.astro';
import Github from '@/icons/GitHub.astro';
import LinkedIn from '@/icons/LinkedIn.astro';
import X from '@/icons/X.astro';
import WorldMap from '@/icons/WorldMap.astro';

const { name, label, image, email, phone,  location, profiles } = basics;
const { countryCode } = location;
const SOCIAL_ICONS : Record<string, any> = {
    Github,
    LinkedIn, 
    X}
---



<Section>
    <div class="flex  gap-1 items-center justify-between">
        <div class="flex flex-col gap-2 p-7">
            <h1 class="text-3xl ">{name}</h1>
            <h2 class="text-2xl font-normal text-zinc-80000 text-balance">{label}</h2>
            <span class="flex items-center gap-1 text-zinc-700  "> <WorldMap/> {countryCode}</span>
            <footer class="flex gap-2 items-center p-2 mt-1 [&>a]:p-1 [&>a]:border [&>a]:border-zinc-700 [&>a]:rounded-md ">
                {
                    email && <a class="bg-zinc-100 hover:scale-105 transition-all delay-100 hover:border-zinc-900  hover:bg-zinc-200" href={`mailto:${email}`} title={`Send a email to ${email}`} target="_blank"><Mail/></a>
                }
                {
                    phone && <a class="bg-zinc-100 hover:scale-105 transition-all delay-100 hover:border-zinc-900  hover:bg-zinc-200" href={`mailto:${phone}`} title={`Send a phone to ${phone}`} target="_blank"><Phone/></a>
                }
                {profiles.map(({ network, url }) => {
                    const Icon = SOCIAL_ICONS[network];
                    return (

                        <a class="bg-zinc-100 hover:scale-105 transition-all delay-100 hover:border-zinc-900  hover:bg-zinc-200" href={url} title={`${network} profile`} target="_blank"><Icon/></a>  
                    )
                })}
            </footer>
        </div>
        <figure>
            <Image class="aspect-square object-cover rounded-md " src={image} alt={name} width={200} height={200} />
        </figure>
    </div>
</Section>